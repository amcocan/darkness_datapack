# ======= Shear Heads =======
# Detect type of entity and tag it.
execute as @e[type=minecraft:allay, tag=!allay] run data modify entity @s Tags append value "allay"
execute as @e[type=minecraft:armadillo, tag=!armadillo] run data modify entity @s Tags append value "armadillo"
execute as @e[type=minecraft:axolotl, tag=!axolotl] run data modify entity @s Tags append value "axolotl"
execute as @e[type=minecraft:bat, tag=!bat] run data modify entity @s Tags append value "bat"
execute as @e[type=minecraft:bee, tag=!bee] run data modify entity @s Tags append value "bee"
execute as @e[type=minecraft:blaze, tag=!blaze] run data modify entity @s Tags append value "blaze"
execute as @e[type=minecraft:bogged, tag=!bogged] run data modify entity @s Tags append value "bogged"
execute as @e[type=minecraft:breeze, tag=!breeze] run data modify entity @s Tags append value "breeze"
execute as @e[type=minecraft:camel, tag=!camel] run data modify entity @s Tags append value "camel"
execute as @e[type=minecraft:cat, tag=!cat] run data modify entity @s Tags append value "cat"
execute as @e[type=minecraft:cave_spider, tag=!cave_spider] run data modify entity @s Tags append value "cave_spider"
execute as @e[type=minecraft:chicken, tag=!chicken] run data modify entity @s Tags append value "chicken"
execute as @e[type=minecraft:cod, tag=!cod] run data modify entity @s Tags append value "cod"
execute as @e[type=minecraft:cow, tag=!cow] run data modify entity @s Tags append value "cow"
execute as @e[type=minecraft:creaking, tag=!creaking] run data modify entity @s Tags append value "creaking"
execute as @e[type=minecraft:creeper, tag=!creeper] run data modify entity @s Tags append value "creeper"
execute as @e[type=minecraft:dolphin, tag=!dolphin] run data modify entity @s Tags append value "dolphin"
execute as @e[type=minecraft:donkey, tag=!donkey] run data modify entity @s Tags append value "donkey"
execute as @e[type=minecraft:drowned, tag=!drowned] run data modify entity @s Tags append value "drowned"
execute as @e[type=minecraft:elder_guardian, tag=!elder_guardian] run data modify entity @s Tags append value "elder_guardian"
execute as @e[type=minecraft:enderman, tag=!enderman] run data modify entity @s Tags append value "enderman"
execute as @e[type=minecraft:endermite, tag=!endermite] run data modify entity @s Tags append value "endermite"
execute as @e[type=minecraft:evoker, tag=!evoker] run data modify entity @s Tags append value "evoker"
execute as @e[type=minecraft:fox, tag=!fox] run data modify entity @s Tags append value "fox"
execute as @e[type=minecraft:frog, tag=!frog] run data modify entity @s Tags append value "frog"
execute as @e[type=minecraft:ghast, tag=!ghast] run data modify entity @s Tags append value "ghast"
execute as @e[type=minecraft:glow_squid, tag=!glow_squid] run data modify entity @s Tags append value "glow_squid"
execute as @e[type=minecraft:goat, tag=!goat] run data modify entity @s Tags append value "goat"
execute as @e[type=minecraft:guardian, tag=!guardian] run data modify entity @s Tags append value "guardian"
execute as @e[type=minecraft:hoglin, tag=!hoglin] run data modify entity @s Tags append value "hoglin"
execute as @e[type=minecraft:horse, tag=!horse] run data modify entity @s Tags append value "horse"
execute as @e[type=minecraft:husk, tag=!husk] run data modify entity @s Tags append value "husk"
execute as @e[type=minecraft:illusioner, tag=!illusioner] run data modify entity @s Tags append value "illusioner"
execute as @e[type=minecraft:iron_golem, tag=!iron_golem] run data modify entity @s Tags append value "iron_golem"
execute as @e[type=minecraft:llama, tag=!llama] run data modify entity @s Tags append value "llama"
execute as @e[type=minecraft:magma_cube, tag=!magma_cube] run data modify entity @s Tags append value "magma_cube"
execute as @e[type=minecraft:mooshroom, tag=!mooshroom] run data modify entity @s Tags append value "mooshroom"
execute as @e[type=minecraft:mule, tag=!mule] run data modify entity @s Tags append value "mule"
execute as @e[type=minecraft:ocelot, tag=!ocelot] run data modify entity @s Tags append value "ocelot"
execute as @e[type=minecraft:panda, tag=!panda] run data modify entity @s Tags append value "panda"
execute as @e[type=minecraft:parrot, tag=!parrot] run data modify entity @s Tags append value "parrot"
execute as @e[type=minecraft:phantom, tag=!phantom] run data modify entity @s Tags append value "phantom"
execute as @e[type=minecraft:pig, tag=!pig] run data modify entity @s Tags append value "pig"
execute as @e[type=minecraft:piglin_brute, tag=!piglin_brute] run data modify entity @s Tags append value "piglin_brute"
execute as @e[type=minecraft:pillager, tag=!pillager] run data modify entity @s Tags append value "pillager"
execute as @e[type=minecraft:player, tag=!player] run tag @s add player
execute as @e[type=minecraft:polar_bear, tag=!polar_bear] run data modify entity @s Tags append value "polar_bear"
execute as @e[type=minecraft:pufferfish, tag=!pufferfish] run data modify entity @s Tags append value "pufferfish"
execute as @e[type=minecraft:rabbit, tag=!rabbit] run data modify entity @s Tags append value "rabbit"
execute as @e[type=minecraft:ravager, tag=!ravager] run data modify entity @s Tags append value "ravager"
execute as @e[type=minecraft:salmon, tag=!salmon] run data modify entity @s Tags append value "salmon"
execute as @e[type=minecraft:sheep, tag=!sheep] run data modify entity @s Tags append value "sheep"
execute as @e[type=minecraft:shulker, tag=!shulker] run data modify entity @s Tags append value "shulker"
execute as @e[type=minecraft:silverfish, tag=!silverfish] run data modify entity @s Tags append value "silverfish"
execute as @e[type=minecraft:skeleton_horse, tag=!skeleton_horse] run data modify entity @s Tags append value "skeleton_horse"
execute as @e[type=minecraft:slime, tag=!slime] run data modify entity @s Tags append value "slime"
execute as @e[type=minecraft:sniffer, tag=!sniffer] run data modify entity @s Tags append value "sniffer"
execute as @e[type=minecraft:snow_golem, tag=!snow_golem] run data modify entity @s Tags append value "snow_golem"
execute as @e[type=minecraft:spider, tag=!spider] run data modify entity @s Tags append value "spider"
execute as @e[type=minecraft:squid, tag=!squid] run data modify entity @s Tags append value "squid"
execute as @e[type=minecraft:stray, tag=!stray] run data modify entity @s Tags append value "stray"
execute as @e[type=minecraft:strider, tag=!strider] run data modify entity @s Tags append value "strider"
execute as @e[type=minecraft:tadpole, tag=!tadpole] run data modify entity @s Tags append value "tadpole"
execute as @e[type=minecraft:trader_llama, tag=!trader_llama] run data modify entity @s Tags append value "trader_llama"
execute as @e[type=minecraft:tropical_fish, tag=!tropical_fish] run data modify entity @s Tags append value "tropical_fish"
execute as @e[type=minecraft:turtle, tag=!turtle] run data modify entity @s Tags append value "turtle"
execute as @e[type=minecraft:vex, tag=!vex] run data modify entity @s Tags append value "vex"
execute as @e[type=minecraft:villager, tag=!villager] run data modify entity @s Tags append value "villager"
execute as @e[type=minecraft:vindicator, tag=!vindicator] run data modify entity @s Tags append value "vindicator"
execute as @e[type=minecraft:wandering_trader, tag=!wandering_trader] run data modify entity @s Tags append value "wandering_trader"
execute as @e[type=minecraft:warden, tag=!warden] run data modify entity @s Tags append value "warden"
execute as @e[type=minecraft:witch, tag=!witch] run data modify entity @s Tags append value "witch"
execute as @e[type=minecraft:wither, tag=!wither] run data modify entity @s Tags append value "wither"
execute as @e[type=minecraft:wolf, tag=!wolf] run data modify entity @s Tags append value "wolf"
execute as @e[type=minecraft:zoglin, tag=!zoglin] run data modify entity @s Tags append value "zoglin"
execute as @e[type=minecraft:zombie_horse, tag=!zombie_horse] run data modify entity @s Tags append value "zombie_horse"
execute as @e[type=minecraft:zombie_villager, tag=!zombie_villager] run data modify entity @s Tags append value "zombie_villager"
execute as @e[type=minecraft:zombified_piglin, tag=!zombified_piglin] run data modify entity @s Tags append value "zombified_piglin"

# Detect untaged entity and tag it with a tag for looting heads.
execute as @e[type=minecraft:allay, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:armadillo, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:axolotl, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:bat, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:bee, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:blaze, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:bogged, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:breeze, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:camel, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:cat, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:cave_spider, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:chicken, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:cod, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:cow, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:creaking, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:creeper, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:dolphin, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:donkey, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:drowned, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:elder_guardian, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:enderman, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:endermite, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:evoker, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:fox, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:frog, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:ghast, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:glow_squid, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:goat, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:guardian, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:hoglin, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:horse, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:husk, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:illusioner, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:iron_golem, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:llama, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:magma_cube, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:mooshroom, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:mule, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:ocelot, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:panda, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:parrot, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:phantom, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:pig, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:piglin_brute, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:pillager, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:player, tag=!can_loot_head] run tag @s add can_loot_head
execute as @e[type=minecraft:polar_bear, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:pufferfish, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:rabbit, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:ravager, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:salmon, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:sheep, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:shulker, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:silverfish, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:skeleton_horse, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:slime, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:sniffer, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:snow_golem, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:spider, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:squid, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:stray, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:strider, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:tadpole, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:trader_llama, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:tropical_fish, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:turtle, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:vex, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:villager, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:vindicator, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:wandering_trader, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:warden, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:witch, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:wither, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:wolf, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:zoglin, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:zombie_horse, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:zombie_villager, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"
execute as @e[type=minecraft:zombified_piglin, tag=!can_loot_head] run data modify entity @s Tags append value "can_loot_head"

# Detect shearing and check which entity is the closest.
# execute as @e[type=interaction, limit=1, sort=nearest] at @s if entity @e[type=minecraft:slime, distance=..1] run loot spawn ~ ~ ~ loot more_mob_heads:entities/slime

# ======= Shear Heads Loop =======
schedule function shearheads:detect 5t append